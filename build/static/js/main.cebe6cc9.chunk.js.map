{"version":3,"sources":["images/apple.png","mobx/appleBasketStore.js","mobx/AppleItem.jsx","mobx/AppleBasket.jsx","index_mobx.js"],"names":["module","exports","appleBasket","this","apples","filter","item","isEaten","notEatenApples","EatenApples","notEatenWeight","reduce","acc","cur","weight","EatenWeight","notEatenQuantity","length","EatenQuantity","observable","id","action","isPicking","buttonText","setTimeout","Math","floor","random","push","newAppleId","appleId","targetIndex","findIndex","computed","AppleItem","props","apple","eatApple","className","src","require","alt","onClick","Component","AppleBasket","inject","observer","console","log","store","map","key","status","pickApple","getApples","autorun","appleBasketStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cebe6cc9.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","// 1. 创建store对象 存储默认状态\r\n// 2. 将store对象放在一个全局的 组件可以够的到的地方\r\n// 3. 让组件获取store对象中的状态 并将状态显示在组件中\r\n\r\nimport { computed, observable, action } from \"mobx\";\r\n\r\nclass AppleBasketStore {\r\n    @observable apples = [\r\n        {\r\n            id: 0,\r\n            weight: 233,\r\n            isEaten: false\r\n        },\r\n        {\r\n            id: 1,\r\n            weight: 235,\r\n            isEaten: true\r\n        },\r\n        {\r\n            id: 2,\r\n            weight: 256,\r\n            isEaten: false\r\n        }\r\n    ];\r\n    @observable newAppleId = 3;\r\n    @observable isPicking = false;\r\n    @observable buttonText = '摘苹果';\r\n\r\n    /*摘苹果的异步操作*/\r\n    @action pickApple = () => {\r\n\r\n        /** 如果正在摘苹果，则结束这个thunk, 不执行摘苹果 */\r\n        if (this.isPicking) {\r\n            return;\r\n        }\r\n\r\n        this.isPicking = true;\r\n        this.buttonText = '正在采摘...';\r\n\r\n        // 模拟异步操作，数据自己mock\r\n        setTimeout(() => {\r\n            let weight = Math.floor(200 + Math.random() * 50);\r\n            this.isPicking = false;\r\n            this.buttonText = '摘苹果';\r\n            this.apples.push({\r\n                id: this.newAppleId++,\r\n                weight: weight,\r\n                isEaten: false\r\n            });\r\n        }, 500)\r\n    }\r\n\r\n    /* 这里需要写成箭头函数的形式，这样此函数从父组件传递到子组件的时候才能调用成功*/\r\n    @action eatApple = (appleId) => {\r\n        let targetIndex = this.apples.findIndex(item => item.id === appleId);\r\n        this.apples[targetIndex].isEaten = true;\r\n    }\r\n\r\n    @computed get notEatenApples () {\r\n        return this.apples.filter(item => item.isEaten === false);\r\n    }\r\n\r\n    @computed get status () {\r\n        const notEatenApples = this.apples.filter(item => item.isEaten === false);\r\n        const EatenApples = this.apples.filter(item => item.isEaten === true);\r\n        const notEatenWeight = notEatenApples.reduce((acc, cur) => acc + cur.weight, 0);\r\n        const EatenWeight = EatenApples.reduce((acc, cur) => acc + cur.weight, 0);\r\n        return {\r\n            notEatenQuantity: notEatenApples.length, // 当前苹果个数\r\n            notEatenWeight, // 当前苹果重量\r\n            EatenQuantity: EatenApples.length, // 已吃掉苹果个数\r\n            EatenWeight // 已吃掉苹果重量\r\n        }\r\n    }\r\n}\r\n\r\nconst appleBasket = new AppleBasketStore();\r\n\r\nexport default appleBasket;","import React, { Component } from \"react\";\r\n\r\nclass AppleItem extends Component {\r\n    render () {\r\n        let { apple, eatApple } = this.props;\r\n\r\n        return (\r\n            <div className=\"appleItem\">\r\n                <div className=\"apple\"><img src={require('../images/apple.png')} alt=\"\"/></div>\r\n                <div className=\"info\">\r\n                    <div className=\"name\">红苹果 - { apple.id }号</div>\r\n                    <div className=\"weight\">{ apple.weight }克</div>\r\n                </div>\r\n                <div className=\"btn-div\">\r\n                    <button onClick={() => eatApple(apple.id)}> 吃掉 </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppleItem;","import React, { Component } from \"react\";\r\nimport { inject, observer } from \"mobx-react\";\r\nimport AppleItem from './AppleItem';\r\n\r\n@inject('store')\r\n@observer\r\nclass AppleBasket extends Component {\r\n    componentDidMount () {\r\n        console.log('AppleBasket componentDidMount');\r\n    }\r\n\r\n    /* 获取未吃苹果的组件数组 */\r\n    getApples() {\r\n        const { notEatenApples, eatApple } = this.props.store;\r\n        return (\r\n            notEatenApples.length ?\r\n            notEatenApples.map(apple => {\r\n                return (\r\n                    <AppleItem apple={apple} eatApple={eatApple} key={apple.id} />\r\n                )\r\n            })\r\n            : <div className=\"empty-tip\" key=\"empty\">苹果篮子空空如也</div>\r\n        )\r\n    }\r\n\r\n    render () {\r\n        const { status, isPicking, pickApple, buttonText } = this.props.store;\r\n        const { notEatenQuantity, notEatenWeight, EatenQuantity, EatenWeight } = status;\r\n        return (\r\n            <div className=\"appleBusket\">\r\n                <div className=\"title\">苹果篮子-卢显灿构建</div>\r\n\r\n                <div className=\"stats\">\r\n                    <div className=\"section\">\r\n                        <div className=\"head\">当前</div>\r\n                        <div className=\"content\">\r\n                            {notEatenQuantity}个苹果，{notEatenWeight}克\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"section\">\r\n                        <div className=\"head\">已吃掉</div>\r\n                        <div className=\"content\">\r\n                            {EatenQuantity}个苹果，{EatenWeight}克\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"appleList\">\r\n                    { this.getApples() }\r\n                </div>\r\n\r\n                <div className=\"btn-div\">\r\n                    <button className={isPicking ? 'disabled' : ''} onClick={pickApple}>\r\n                        {buttonText}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AppleBasket;\r\n","/* mobx实现 */\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'mobx-react';\r\nimport { autorun } from 'mobx';\r\nimport appleBasketStore from './mobx/appleBasketStore';\r\nimport AppleBasket from './mobx/AppleBasket';\r\nimport './styles/appleBasket.css';\r\n\r\n/** acturun测试*/\r\nautorun(()=> {\r\n    if (appleBasketStore.isPicking) {\r\n        console.log('又在采摘新苹果了');\r\n    }\r\n});\r\n\r\nReactDOM.render(\r\n    <Provider store={appleBasketStore}><AppleBasket /></Provider>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}